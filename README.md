## Apocalypse Cooking


So the pandemic has come and wiped humanity clean off the earth... or kept everyone indoors a few extra hours a day. That's quite something when you consider how much time we already spent indoors!

What can you make to feed yourself in this trying time? The Apocalypse Cooking Guide (tm) is here to help! The ACG (tm) was founded with a simple, noble goal: to enable the last straggling remnants of humanity to survive without sacrificing the opportunity to be insufferable foodies. To create our repository of human cuisine - possibly the last remaining repository of such knowledge left - we first needed to gather recipes. Scraping 19,000 recipes from the New York Times Cooking website before its servers lost power turned out to pose little challenge. Ranking recipes by how appropriate they are for our new post-apocalytic reality turned out to be more difficult.

Originally, the notion had been to rank recipes based on an intuitive logic. Recipes that utilized shelf stable or canned ingredients would be preferred to those requiring fresh, super seasonal or otherwise unique and hard to find ingredients. Similarly, recipes that had few steps, take less time to prepare and which do not require specialist equipment, particularly if said equipment requires electricity, would be preferred. Grills or stovetop cooking should score well, as open fire can even substitute for such methods if cooking gas runs out. High powered blenders or molecular gastronomy techniques would score poorly. A compound rating - our SEnsible Apocalypse Recipe Quotient, or SEAR-Q - utilizing an ingredient score, a preparation score and the average rating from the NYT cooking site could be created in a sabermetrics type fashion.

Simple as this sounds, there's a tricky data-science problem within it - how do you give each of the recipes a score for its ingredients or its preparation? The ACG team is too busy hoarding ammunition and fending off scavengers to personally rate each recipe, so a computer would need be trained to recognize which recipes were more or less appropriate. This task is a prime candidate for machine-learning, because the logic you would need to hard encode would be too complicated. Consider, how to teach the computer which ingredients are shelf stable. Canned beans are, as are dried beans. But you can't simply tell the computer to look for beans, because green beans are not - unless they are of the canned variety, in which case they are.

## Model building
Practically speaking, there are two major challenges for creating a language model at this scale for this purpose. The first is the simple and ubiquitous data labeling challenge. The New York Times did it's duty to the future of the culinary arts in the future disease-blighted hellscape, but they did not do us the favor of providing a star rating for how appropriate for the apocalypse any given recipe is. That means that our model will need to be kickstarted with hand labeled data which introduces a limitation on the amount of data we can expect to label and, therefore, a corresponding limitation on what sort of models we can use. Right from the start we can rule out using anything particularly fancy. Practically speaking, we won't have enough labeled data to train some sort of new-fangled, deep learning whatever on. We're going to have to make due with some simpler fallbacks - Naive Bayes, perhaps, or a simple Logistic Regression. Actually, there are still substantial data limitations in those cases because working with text data produces some very sparse matrices. If you looked at the ingredients lists for 100 recipes, you might find you have something like a couple thousand unique words, with many of the words used in only one or two of the recipes.

The other substantial challenge is incorporating non-text and text based features into a unified model. My initial thought had been to include both the text of a given recipe or set of instructions as well as a handful of 'meta' features, such as the number of ingredients total, the number of steps in the recipe or the amount of cooking time.
